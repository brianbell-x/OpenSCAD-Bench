{
  "id": "gen-1764892967-Hhl4baFPmbjcDd4Hb6k3",
  "model": "anthropic/claude-opus-4.5",
  "choices": [
    {
      "message": {
        "role": "assistant",
        "content": "```openscad\n// Toroidal Propeller with 3 Blades\n// Each blade is a wide flat band forming a nearly complete loop\n\n$fn = 100;\n\n// Hub parameters\nhub_outer_diameter = 15;\nhub_height = 10;\nmounting_hole_diameter = 5;\n\n// Blade parameters\nblade_loop_outer_diameter = 50;\nblade_band_width = 12;  // height of the flat band\nblade_band_thickness = 2;  // wall thickness\nblade_arc_degrees = 340;  // nearly complete loop\nblade_spiral_height = 15;  // vertical rise\nnum_blades = 3;\n\n// Calculated values\nhub_radius = hub_outer_diameter / 2;\nblade_loop_radius = blade_loop_outer_diameter / 2;\nblade_loop_inner_radius = blade_loop_radius - blade_band_thickness;\n\n// Center of blade loop offset from hub center\n// Position so blade connects to hub and sweeps outward\nblade_center_offset = 25;  // distance from hub center to blade loop center\n\n// Tilt angle for pitch (degrees)\nblade_tilt_angle = 20;\n\n// Module for a single blade band (nearly complete toroidal section)\nmodule blade_band() {\n    // Create a flat band as a partial cylinder shell\n    // The band is oriented with its axis vertical initially\n    \n    arc_start = 10;  // leave gap\n    arc_end = arc_start + blade_arc_degrees;\n    \n    difference() {\n        // Outer cylinder section\n        rotate([0, 0, arc_start])\n        rotate_extrude(angle = blade_arc_degrees, convexity = 4) {\n            translate([blade_loop_radius - blade_band_thickness/2, 0, 0])\n            square([blade_band_thickness, blade_band_width], center = true);\n        }\n    }\n}\n\n// Module for a single blade with tilt and positioning\nmodule blade() {\n    // Position the blade loop so it connects to the hub\n    // Tilt it to create pitch\n    // The blade starts near the hub and loops outward\n    \n    translate([blade_center_offset, 0, blade_spiral_height/2])\n    rotate([blade_tilt_angle, 0, 0])\n    translate([0, 0, -blade_band_width/2])\n    blade_band();\n}\n\n// Module for the hub\nmodule hub() {\n    difference() {\n        cylinder(h = hub_height, d = hub_outer_diameter, center = true);\n        cylinder(h = hub_height + 1, d = mounting_hole_diameter, center = true);\n    }\n}\n\n// Module for connection between blade and hub\nmodule blade_connector(blade_angle) {\n    // Create a smooth connection from hub to blade\n    rotate([0, 0, blade_angle])\n    hull() {\n        // Point at hub edge\n        translate([hub_radius - 1, 0, 0])\n        rotate([blade_tilt_angle, 0, 0])\n        cube([2, blade_band_thickness, blade_band_width], center = true);\n        \n        // Point at start of blade loop\n        translate([blade_center_offset - blade_loop_radius + blade_band_thickness, 0, blade_spiral_height/2])\n        rotate([blade_tilt_angle, 0, 0])\n        cube([2, blade_band_thickness, blade_band_width], center = true);\n    }\n}\n\n// Main assembly\nmodule toroidal_propeller() {\n    union() {\n        // Central hub\n        hub();\n        \n        // Three blades arranged symmetrically\n        for (i = [0 : num_blades - 1]) {\n            angle = i * (360 / num_blades);\n            \n            // Blade loop\n            rotate([0, 0, angle])\n            blade();\n            \n            // Connector from hub to blade\n            blade_connector(angle);\n        }\n    }\n}\n\n// Render the propeller\ntoroidal_propeller();\n```"
      },
      "finish_reason": "stop"
    }
  ]
}