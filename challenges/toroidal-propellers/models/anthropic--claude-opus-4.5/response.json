{
  "id": "gen-1764891088-AqXs3DUgZYEzBxP5SZC1",
  "model": "anthropic/claude-opus-4.5",
  "choices": [
    {
      "message": {
        "role": "assistant",
        "content": "```openscad\n// Toroidal Propeller with 3 Blades\n// All dimensions in mm\n\n$fn = 100; // High resolution for smooth curves\n\n// Parameters\nnum_blades = 3;\nblade_angle_spacing = 360 / num_blades; // 120 degrees\n\n// Hub parameters\nhub_outer_diameter = 15;\nhub_height = 10;\nmounting_hole_diameter = 5;\n\n// Blade parameters\nblade_loop_outer_diameter = 50;\nblade_band_width = 12; // Height of the flat band\nblade_band_thickness = 2; // Wall thickness\nblade_arc_degrees = 340; // Nearly complete loop\nblade_spiral_height = 15; // How high blades spiral up\n\n// Calculated values\nhub_radius = hub_outer_diameter / 2;\nblade_loop_radius = blade_loop_outer_diameter / 2;\nblade_loop_inner_radius = blade_loop_radius - blade_band_thickness;\n\n// Center of blade loop offset from hub center\nblade_center_offset = 42; // Adjusted to achieve ~100mm tip-to-tip\n\n// Tilt angle for propeller pitch (angle of blade plane relative to horizontal)\nblade_tilt_angle = 25; // degrees\n\n// Module for the central hub\nmodule hub() {\n    difference() {\n        cylinder(h = hub_height, d = hub_outer_diameter, center = true);\n        cylinder(h = hub_height + 1, d = mounting_hole_diameter, center = true);\n    }\n}\n\n// Module for a single toroidal blade band\nmodule blade_band() {\n    // Create a wide flat band forming an arc\n    // The band is created by rotating a rectangle around the torus center\n    \n    arc_start = -blade_arc_degrees / 2;\n    arc_end = blade_arc_degrees / 2;\n    \n    rotate_extrude(angle = blade_arc_degrees, $fn = 120) {\n        translate([blade_loop_radius - blade_band_thickness/2, 0, 0])\n            square([blade_band_thickness, blade_band_width], center = true);\n    }\n}\n\n// Module for a single blade with tilt and positioning\nmodule blade() {\n    // Position blade loop center offset from hub\n    translate([blade_center_offset, 0, blade_spiral_height/2])\n    rotate([blade_tilt_angle, 0, 0]) // Tilt for pitch\n    rotate([0, 0, -blade_arc_degrees/2 + 90]) // Orient the gap\n    blade_band();\n}\n\n// Module for connection strut between hub and blade\nmodule blade_connection(angle) {\n    // Create a smooth connection from hub to the blade\n    hull() {\n        // At hub\n        rotate([0, 0, angle])\n        translate([hub_radius - 1, 0, 0])\n        rotate([blade_tilt_angle/3, 0, 0])\n        cube([3, blade_band_thickness, blade_band_width/2], center = true);\n        \n        // At blade start\n        rotate([0, 0, angle])\n        translate([blade_center_offset - blade_loop_radius + blade_band_thickness/2 + 2, 0, blade_spiral_height/2])\n        rotate([blade_tilt_angle, 0, 0])\n        rotate([0, 0, 0])\n        cube([4, blade_band_thickness, blade_band_width], center = true);\n    }\n}\n\n// Complete single blade with connection\nmodule complete_blade(angle) {\n    rotate([0, 0, angle]) {\n        blade();\n        rotate([0, 0, -angle])\n        blade_connection(angle);\n    }\n}\n\n// Main assembly\nmodule toroidal_propeller() {\n    // Hub\n    hub();\n    \n    // Three blades arranged symmetrically\n    for (i = [0 : num_blades - 1]) {\n        complete_blade(i * blade_angle_spacing);\n    }\n}\n\n// Render the propeller\ntoroidal_propeller();\n```"
      },
      "finish_reason": "stop"
    }
  ]
}